<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>cookie = a small text file stored on your computer <br>
                used to remember information about the user <br>
                saved in name=value pairs.</h1><hr>
    <label for="firstText">firstName</label>
    <input type="text" id="firstText">
    <label for="lastText">lastName</label>
    <input type="text" id="lastText">
    <button id="submitBtn">Submit</button>
    <button id="cookieBtn">Get cookie</button>

<script>
    // console.log(navigator.cookieEnable);

    // document.cookie = 'firstName=Pro; expires=Sun, 1 January 2030 12:00:00 UTC; path=/';
    // document.cookie = 'lastName=Code; expires=Sun, 1 January 2030 12:00:00 UTC; path=/';
    // console.log(document.cookie);

    // Create cookie
    // setCookie('email', 'Pro@gmail.com', 365);
    // console.log(document.cookie);
    // function setCookie(name, value, daysTolive){
    //     const date = new Date();
    //     date.setTime(date.getTime() + (daysTolive * 24 * 60 * 60 *1000));
    //     let expires = 'expires=' + date.toUTCString();
    //     document.cookie = `${name}=${value}; ${expires}; path=/`;
    // }

    //how to delete cookie
    // deleteCookie('firstName');
    // deleteCookie('lastName');
    // deleteCookie('email');
    // console.log(document.cookie);
    
    // function setCookie(name, value, daysTolive){
    //     const date = new Date();
    //     date.setTime(date.getTime() + (daysTolive * 24 * 60 * 60 *1000));
    //     let expires = 'expires=' + date.toUTCString();
    //     document.cookie = `${name}=${value}; ${expires}; path=/`;
    // }
    // function deleteCookie(name){
    //     setCookie(name, null, null);
    // }

    // setCookie('firstName', 'Pro', 365);
    // setCookie('lastName', 'Code', 365);
    // console.log(getCookie("firstName"));
    // console.log(getCookie("lastName"));

    // function setCookie(name, value, daysTolive){
    //     const date = new Date();
    //     date.setTime(date.getTime() + (daysTolive * 24 * 60 * 60 *1000));
    //     let expires = 'expires=' + date.toUTCString();
    //     document.cookie = `${name}=${value}; ${expires}; path=/`;
    // }
    // function deleteCookie(name){
    //     setCookie(name, null, null);
    // }
    // function getCookie(name){
    //     const cDecoded = decodeURIComponent(document.cookie);
    //     // console.log(cDecoded);

    //     const cArray = cDecoded.split('; ');
    //     // console.log(cArray);
    //     let result = null;
    //     cArray.forEach(element => {
    //         if(element.indexOf(name) == 0){
    //             result = element.substring(name.length + 1)
    //         }
    //     })
    //     return result;
    // }

    //how to display cookie (after write first/last name->refesh->get cookie)
    const firstText = document.querySelector('#firstText');
    const lastText = document.querySelector('#lastText');
    const submitBtn = document.querySelector('#submitBtn');
    const cookieBtn = document.querySelector('#cookieBtn');

    submitBtn.addEventListener('click', () => {
        setCookie('firstName', firstText.value, 365);
        setCookie('lastName', lastText.value, 365);
    });
    cookieBtn.addEventListener('click', () => {
        firstText.value = getCookie('firstName');
        lastText.value = getCookie('lastName');
    });
//these 2lines code to delete cookie
    // deleteCookie('firstName');
    // deleteCookie('lastName');

    function setCookie(name, value, daysTolive){
        const date = new Date();
        date.setTime(date.getTime() + (daysTolive * 24 * 60 * 60 *1000));
        let expires = 'expires=' + date.toUTCString();
        document.cookie = `${name}=${value}; ${expires}; path=/`;
    }
    function deleteCookie(name){
        setCookie(name, null, null);
    }
    function getCookie(name){
        const cDecoded = decodeURIComponent(document.cookie);
        // console.log(cDecoded);

        const cArray = cDecoded.split('; ');
        // console.log(cArray);
        let result = null;
        cArray.forEach(element => {
            if(element.indexOf(name) == 0){
                result = element.substring(name.length + 1)
            }
        })
        return result;
    }
</script>
</body>
</html>